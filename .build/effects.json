{
  "1jX37MkxtB6uzViV": "if (!game.user.isUniqueGM) return;\r\n\r\neffectsToCreate = [];\r\neffectsToDelete = [];\r\nfor (let weapon of this.actor.itemTypes.weapon ?? []) {\r\n  const weaponEffect = this.actor.effects.find((value) => value.name === `${weapon.name} (${weapon.id})`);\r\n  if (weapon.equipped && weaponEffect === undefined) {\r\n    effectsToCreate.push({\r\n      name: `${weapon.name} (${weapon.id})`,\r\n      icon: weapon.img,\r\n      statuses: [\"show-item\"]\r\n    });\r\n  } else if (!weapon.equipped && weaponEffect !== undefined) {\r\n    effectsToDelete.push(weaponEffect._id);\r\n  }\r\n}\r\nthis.actor.createEmbeddedDocuments(\"ActiveEffect\", effectsToCreate);\r\nif (effectsToDelete.length) {\r\n  this.actor.deleteEmbeddedDocuments(\"ActiveEffect\", effectsToDelete);\r\n}\r\n"
}