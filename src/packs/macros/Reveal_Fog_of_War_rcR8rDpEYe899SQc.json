{
  "_id": "rcR8rDpEYe899SQc",
  "author": "MJAZjdKh3QKREKG2",
  "command": "/* ==========\n* MACRO: Reveal Fog of War\n* AUTHORS: Originally by @coletain, modified by @Robak132\n* DESCRIPTION: Reveal Fog of War for all players.\n========== */\n\nconst opacity = 0x999999;\n\n// Get fog obj\nconst fog = canvas.sight.fog;\n\n// Create a new render texture\nconst revealed = PIXI.RenderTexture.create({\n  width: canvas.dimensions.width,\n  height: canvas.dimensions.height,\n  scale: 1,\n  resolution: canvas.sight._fogResolution\n});\n// Fill render texture with desired opacity\nconst fill = new PIXI.Graphics();\nfill.beginFill(opacity);\nfill.drawRect(0, 0, canvas.dimensions.width, canvas.dimensions.height);\nfill.endFill();\n\n// Render fill to the texture\ncanvas.app.renderer.render(fill, revealed);\n\n// Swap the staging texture to the rendered texture\nfog.rendered.texture.destroy(true);\nfog.rendered.texture = revealed;",
  "flags": {
    "wfrp4e-macros-and-more": {
      "version": "1.0.0"
    }
  },
  "folder": null,
  "img": "modules/wfrp4e-macros-and-more/assets/icons/show-weapons-hide.svg",
  "name": "Reveal Fog of War",
  "scope": "global",
  "type": "script",
  "_key": "!macros!rcR8rDpEYe899SQc"
}
